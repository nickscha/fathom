#ifndef FATHOM_FONT_H
#define FATHOM_FONT_H

#include "fathom_types.h"

/* #############################################################################
 * # [SECTION] Bitmap Font
 * #############################################################################
 */

/* 1-bit bitmap, packed, row-major */
/* width=210, height=7 */
/* Charset: "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789:%+-.<" */
#define FATHOM_FONT_WIDTH 215
#define FATHOM_FONT_HEIGHT 7
#define FATHOM_FONT_GLYPH_WIDTH 5
#define FATHOM_FONT_GLYPH_HEIGHT 7

static u8 fathom_font[] = {
    0x77, 0x9D, 0xCF, 0xFD, 0xD1, 0x73, 0xE3, 0x08, 0xE5, 0xDE, 0x77, 0x9D,
    0xF8, 0xC6, 0x31, 0x8F, 0xDC, 0x47, 0x7A, 0x5F, 0x77, 0xDC, 0xE0, 0x64,
    0x00, 0x00, 0x05, 0x18, 0xC6, 0x50, 0x84, 0x62, 0x41, 0x4A, 0x1B, 0xCC,
    0x63, 0x18, 0xC4, 0x91, 0x8C, 0x63, 0x10, 0xC5, 0x91, 0x0C, 0xA1, 0x10,
    0xC6, 0x20, 0xD0, 0x48, 0x00, 0x1A, 0x31, 0x84, 0x61, 0x08, 0x44, 0x82,
    0xA4, 0x2B, 0x58, 0xC6, 0x31, 0x81, 0x23, 0x18, 0xA9, 0x42, 0x99, 0x02,
    0x19, 0x42, 0x02, 0x8C, 0x40, 0x21, 0x10, 0x00, 0x77, 0xFD, 0x08, 0xFB,
    0xD7, 0xF9, 0x05, 0x88, 0x56, 0xB1, 0xF4, 0x7C, 0xE2, 0x46, 0x35, 0x21,
    0x09, 0x52, 0x09, 0xDF, 0xF7, 0x88, 0xE7, 0x90, 0x84, 0xFB, 0xC1, 0xE8,
    0xC6, 0x11, 0x84, 0x23, 0x12, 0x4A, 0x90, 0x8D, 0x63, 0x0A, 0xCC, 0x24,
    0x8A, 0xAA, 0xA2, 0x23, 0x24, 0x20, 0x44, 0x18, 0x92, 0x21, 0x02, 0x10,
    0x40, 0x01, 0xD1, 0x8C, 0x65, 0x08, 0x46, 0x24, 0x94, 0xA1, 0x19, 0xC6,
    0x12, 0x8C, 0x49, 0x15, 0x3A, 0x24, 0x84, 0x48, 0x80, 0x88, 0x31, 0x24,
    0x42, 0x45, 0xC0, 0x80, 0x31, 0xA3, 0xE7, 0x73, 0xF0, 0x74, 0x5C, 0xC8,
    0xFE, 0x33, 0x74, 0x1B, 0x17, 0x11, 0xC4, 0x54, 0x49, 0xF7, 0x3B, 0xFE,
    0x17, 0x9C, 0x47, 0x38, 0x13, 0x00, 0x00, 0x61, 0x00};

/* clang-format off */
/* Charset: "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789:%+-.<" */
FATHOM_API i32 fathom_font_s8_to_index(s8 c)
{
  /* Convert to uppercase */
  if (c >= 'a' && c <= 'z')
  {
    c = (s8)(c - 'a' + 'A');
  }

  if (c >= 'A' && c <= 'Z') return c - 'A';
  if (c >= '0' && c <= '9') return 26 + (c - '0');
  if (c == ':') return 36;
  if (c == '%') return 37;
  if (c == '/') return 38;
  if (c == '+') return 39;
  if (c == '-') return 40;
  if (c == '.') return 41;
  if (c == '<') return 42;
  if (c == '>') return 42;

  return -1;
}
/* clang-format on */

#endif /* FATHOM_FONT_H */